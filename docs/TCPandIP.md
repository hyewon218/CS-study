# TCP/IP
## 프로토콜
- 프로토콜은 서로 다른 기기들 간의 **데이터 교환을 원활하게 수행할 수 있도록 표준화시켜 놓은 통신 규약**이다.
- 프로토콜의 기본 요소
  - `구문(Syntax)` : 전송하고 하는 데이터의 형식, 부호화, 신호 레벨 등을 규정함
  - `의미(Semantics)` : 두 기기 간의 효율적이고 정확한 정보 전송을 위한 협조 사항과 오류 관리를 위한 제어 정보를 규정함
  - `시간(Timing)` : 두 기기 간의 통신 속도, 메세지의 순서 제어 등을 규정함
- 프로토콜의 기능 : 단편화와 재결합, 캡슐화, 흐름 제어, 오류 제어, 동기화, 순서 제어, 주소 지정, 다중화, 경로 제어, 전송 서비스 등

<br>

## TCP/IP(Transaction control Protocol/ Internet Protocol)
TCP/IP 는 **인터넷에 연결된 서로 다른 기종의 컴퓨터들이 데이터를 주고받을 수 있도록 하는 표준 프로토콜**이다.

- TCP
  - OSI 7계층의 **전송 계층**에 해당함
  - **가상 회선 방식**을 기반으로 하는 `연결형` 서비스를 제공함
  - **패킷의 다중화**, **순서 제어**, **오류 제어**, **흐름 제어** 기능을 제공함
- IP
  - OSI 7계층의 **네트워크 계층**에 해당함
  - **데이터그램 방식**을 기반으로 하는 `비연결형` 서비스를 제공함
  - **패킷의 분해/조립**, **주소 지정**, **경로 선택** 기능을 제공함

<br>

## TCP/IP 의 구조
| OSI                        | TCP/IP      | 기능                                                                               |
|----------------------------|-------------|----------------------------------------------------------------------------------|
| 응용 계층<br>표현 계층<br>세션 계층    | 응용 계층       | - 응용 프로그램 간의 데이터 송 • 수신 제공<br>- TELNET, FTP, SMTP, SNMP, DNS, HTTP 등             |
| 전송 계층                      | **전송** 계층   | - 호스트들 간의 신뢰성 있는 통신 제공<br> - TCP, UDP, RTCP                                      |
| 네트워크 계층                    | **인터넷** 계층  | - 데이터 전송을 위한 **주소 지정**, **경로 설정**을 제공함<br> - IP, ICMP, IGMP, ARP, RARP           |
| **데이터 링크 계층**<br>**물리 계층** | 네트워크 액세스 계층 | - 실제 데이터(프레임)를 송 • 수신 하는 역할<br> - Ethernet, IEEE 802, HDLC, X.25, RS-232c, ARQ 등 |


<br>

## 응용 계층의 주요 프로토콜
| 프르토콜                                     | 내용                                                                                                          | 
|------------------------------------------|-------------------------------------------------------------------------------------------------------------|
| **FTP**(File Transfer Protocol)          | - 컴퓨터와 컴퓨터 또는 컴퓨터와 인터넷 사이에서 파일을 주고받을 수 있도록 하는 **원격 파일 전송 프로토콜**<br>- 기본 포트 번호는 **21**번이지만 다른 번호로 변경할 수 있다.  |
| SMTP(Simple Mail Transfer Protocol)      | 전자 유편을 교환하는 서비스                                                                                             |
| **TELNET**                               | - **멀리 떨어져 있는 컴퓨터에 접속하여 자신의 컴퓨터처럼 사용할 수 있도록 해주는 서비스**<br>- 프로그램을 실행하는 등 시스템 관리 작업을 할 수 있는 가상의 터미널 기능을 수행함   | 
| SNMP(Simple Network Management Protocol) | TCP/IP 의 네트워크 관리 프로토콜로, 라우터나 허브 등 네트워크 기기의 네트워크 정보를 네트워크 관리 시스템에 보내는 데 사용되는 표준 통신 규약                        |
| DNS(Domain Name System)                  | 도메인 네임을 **IP 주소로** 매핑하는 시스템                                                                                 | 
| SNMP(Simple Network Management Protocol) | 월드 와이드 웹(WWW) 에서 HTML 문서를 송수신 하기 위한 표준 프로토콜                                                                 |


<br>

## 전송 계층의 주요 프로토콜
| 프르토콜                                  | 내용                                                                                                                                                                                                                                                                                                                                    | 
|---------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **TCP**(Transaction Control Protocol) | - **양방향 연결형** 서비스를 제공함<br> - 가상 회선 연결 형태의 서비스를 제공함<br> - 스트림 위주의 전달(패킷 단위)을 함<br> - **신뢰성** 있는 경로를 확립하고 메세지 전송을 감독함<br> - **순서 제어, 오류 제어, 흐름 제어** 기능을 함<br> - 패킷의 분실, 손상, 지연이나 순서가 틀린 것 등이 발생할 때 **투명성이 보장되는 통신을 제공**함<br> - TCP 프로토콜의 헤더는 기본적으로 20Byte에서 60Byte 까지 사용할 수 있는데, 선택적으로 40Byte 를 더 추가할 수 있으므로 최대 100Byte 까지 크기를 확장할 수 있음 |
| **UDP**(User **Datagram** Protocol)   | - 데이터 전송 전에 연결을 설정하지 않는 **비연결형** 서비스를 제공함<br> - TCP 에 비해 상대적으로 **단순한 헤더 구조**를 가지므로, 오버헤드가 적고, 흐름 제어나 순서 제어가 없어 전송 속도가 빠름<br> - 고속의 안정성 있는 전송 매체를 사용하여 **빠른 속도**를 필요로 하느 경우, **동시에 여러 사용자에게 데이터를 전달**할 경우, **정기적으로 반복하여 전송**할 경우에 사용함 <br> - 실시간 전송에 유리하며 신뢰성보다는 속도가 중요시되는 네트워크에서 사용됨                                                  |
| RTCP(Real-Time Control Protocol)      | - **멀리 떨어져 있는 컴퓨터에 접속하여 자신의 컴퓨터처럼 사용할 수 있도록 해주는 서비스**<br>프로그램을 실행하는 등 시스템 관리 작업을 할 수 있는 가상의 터미널 기능을 수행함                                                                                                                                                                                                                               | 


> TCP(Transmission Control Protocol)는 연결형, 신뢰성 전송 프로토콜 입니다.<br>
> 연결지향적 서비스를 제공하기 위해 데이터를 전송하기 전에 3 way handsaking을 하여 두 호스트의 전송 계층 사이에 논리적 연결을 설립합니다.<br>
> 신뢰성 있는 서비스를 제공하기 위해 오류제어, 흐름제어, 혼잡제어 등을 실행합니다.<br>
> 신뢰성을 보장하기 위해서 **header가 더 크고 속도가 비교적 느리다**는 단점이 있습니다.<br>
>
> UDP(User Datagram Protocol)는 비연결형 프로토콜로 3-way handshake 등의 세션 수립 과정이 없습니다.<br>
> 또한 비신뢰성 프로토콜로 흐름제어, 오류제어, 혼잡 제어를 제공하지 않습니다.<br>
> 이러한 단순성 덕분에 **적은 양의 오버헤드 갖고 수신여부를 확인하지 않아서 속도가 빠릅니다.**<br>
>
> TCP는 신뢰성이 중요한 통신(HTTP, File 전송 등)에 쓰이고,<br>
> UDP는 실시간성이 중요한 통신(동영상 스트리밍 등)에 주로 사용됩니다.<br>

### TCP 헤더
<img src="https://github.com/hyewon218/kim-jpa2/assets/126750615/9f88c4e3-a967-4e09-90f6-7607a6625c94" width="80%"/><br>
- Source port, Destination port
  - 이 필드들은 세그먼트의 출발지와 목적지를 나타내는 필드로, 각각 16 bits 를 할당받는다. 이때 출발지와 목적지의 주소를 판별하기 위해서는 IP 주소와 포트 번호가 필요하다.
  - IP 주소는 당연히 한 계층 밑인 네트워크 계층에 있는 IP의 헤더에 담기기 때문에, TCP 헤더에는 IP 주소를 나타내는 필드가 없고 **포트를 나타내는 필드만 존재한**다.
- Sequence Number
  - 시퀀스 번호는 전송하는 데이터의 순서를 의미하며, 32 bits를 할당받는다. 최대 4,294,967,296 까지의 수를 담을 수 있기 때문에 시퀀스 번호가 그리 쉽게 중복되지는 않는다.
- Acknowledgment Number
  - 승인 번호는 데이터를 받은 수신자가 예상하는 다음 시퀀스 번호를 의미하며, 32 bits를 할당받는다.



<br>

## 인터넷 계층의 주요 프로토콜
| 프르토콜                                                         | 내용                                                                                                | 
|--------------------------------------------------------------|---------------------------------------------------------------------------------------------------|
| **IP**(Internet Protocol)                                    | - 전송할 데이터에 주소를 지정하고, 경로를 설정하는 기능을 함<br> - **비연결형**인 **데이터그램** 방식을 사용하느 것으로 **신뢰성이 보장되지 않음**       |
| **ICMP**(Internet Control Message Protocol, 인터넷 제어 메세지 프로토콜) | - **IP 와 조합**하여 통신 중에 발생하는 **오류의 처리**와 **전송 경로 변경** 등을 위한 제어 메세지를 관리하는 역할을 함<br> - 헤더는 8Byte로 구성됨 |
| IGMP(Internet Group Management Protocol, 인터넷 그룹 관리 프로토콜)     | - 멀티캐스트를 지원하는 호스트나 라우터 사이에서 멀티캐스트 그룹 유지를 위해 사용됨                                                   | 
| **ARP**(Address Resolution Protocol, 주소 분석 프로토콜)             | - 호스트의 **IP 주소를** 호스트와 연결된 네트워크 접속 장치의 **물리적 주소(MAC Address)로** 바꿈                                |
| **RARP**(Reverse Address Resolution Protocol)                | - ARP 와 반대로 **물리적 주소를 IP 주소로 변환**하는 기능을 함                                                         | 

